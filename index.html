<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Xin Qu·∫ª ƒê·ªãnh M·ªánh 10/5</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
:root{
  --red:#c0392b;
  --gold:#ffd700;
  --paper:#fff5e6;
}

body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle,#2c0a0a,#000);
  font-family:"Times New Roman",serif;
}

.panel{
  width:92%;
  max-width:420px;
  background:var(--paper);
  border:10px double #7b4a12;
  border-radius:18px;
  padding:20px;
  text-align:center;
  box-shadow:0 0 25px rgba(255,215,0,.4);
}

button{
  background:linear-gradient(145deg,var(--gold),#e6b800);
  border:none;
  padding:12px 22px;
  border-radius:12px;
  font-size:16px;
  cursor:pointer;
}

.hidden{display:none}

/* X√ìC */
@keyframes shake{
  0%{transform:translate(0) rotate(0)}
  25%{transform:translate(2px,-2px) rotate(-2deg)}
  50%{transform:translate(-2px,2px) rotate(2deg)}
  75%{transform:translate(2px,2px) rotate(-1deg)}
  100%{transform:translate(0) rotate(0)}
}
.shake{animation:shake .15s infinite}

/* CARD GRID */
.cards{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
  margin-top:20px;
  perspective:1000px;
}

/* 3D CARD */
.card{
  height:90px;
  position:relative;
  transform-style:preserve-3d;
  transition:.6s;
  cursor:pointer;
}

.card-inner{
  position:absolute;
  inset:0;
  border-radius:12px;
  border:3px solid var(--gold);
  background:linear-gradient(#fff,#f3e6c8);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  backface-visibility:hidden;
}

.card-back{
  transform:rotateY(180deg);
  font-size:14px;
}

.card.flip{transform:rotateY(180deg) scale(1.15); z-index:10}

/* RESULT */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
}

.result{
  background:var(--paper);
  border:8px double var(--gold);
  border-radius:20px;
  padding:25px;
  width:90%;
  max-width:380px;
  animation:zoom .4s ease;
}

@keyframes zoom{
  from{transform:scale(.3)}
  to{transform:scale(1)}
}

.reward{
  margin-top:15px;
  font-weight:bold;
  color:var(--red);
}

.dev{
  position:fixed;
  bottom:6px;
  left:8px;
  font-size:11px;
  color:#fff;
  opacity:.6;
}
</style>
</head>

<body>

<div class="panel" id="step1">
  <h2>üîÆ B·∫°n ƒë√£ s·∫µn s√†ng?</h2>
  <button onclick="next(2)">S·∫µn s√†ng</button>
</div>

<div class="panel hidden" id="step2">
  <h2>üåå T∆∞∆°ng lai 2026 ƒëang ch·ªù b·∫°n</h2>
  <button onclick="next(3)">B·∫Øt ƒë·∫ßu</button>
</div>

<div class="panel hidden" id="step3">
  <h2>ü™µ X√≥c qu·∫ª</h2>
  <button id="shakeBtn">X√≥c</button>
  <div class="cards hidden" id="cards"></div>
</div>

<div class="dev">dev by Hai Duong</div>

<audio id="shakeSound" src="https://assets.mixkit.co/sfx/preview/mixkit-wood-hard-hit-2182.mp3" loop></audio>
<audio id="good" src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3"></audio>
<audio id="bad" src="https://assets.mixkit.co/sfx/preview/mixkit-sad-game-over-trombone-471.mp3"></audio>

<script>
const fortunes=[];
for(let i=1;i<=50;i++){
  fortunes.push({text:`Qu·∫ª MAY ${i}: Mua n∆∞·ªõc qu·∫ßy 10/5 ƒë·ªÉ k√≠ch v·∫≠n üçÄ`,good:true});
}
for(let i=1;i<=50;i++){
  fortunes.push({text:`Qu·∫ª XUI ${i}: ƒêo√†n k·∫øt 10/5 r·ªìi s·∫Ω v√¥ ƒë·ªãch b√≥ng chuy·ªÅn üí™`,good:false});
}

let rewardType="";
const now=Date.now();
const lastPunish=localStorage.getItem("lastPunish")||0;

const r=Math.random()*100;
if(r<1){
  rewardType="DANCER 15 PH√öT üòè";
}else if(r<11 && now-lastPunish>900000){
  rewardType="B√ÅN PH·ª§ 15 PH√öT üßπ";
  localStorage.setItem("lastPunish",now);
}else if(r<36){
  rewardType="üéÅ M√ìC KHO√Å ‚Äì RA QU·∫¶Y 10/5 NH·∫¨N";
}else{
  rewardType="KH√îNG QU√Ä";
}

function next(n){
  document.querySelectorAll(".panel").forEach(p=>p.classList.add("hidden"));
  document.getElementById("step"+n).classList.remove("hidden");
}

shakeBtn.onclick=()=>{
  if(localStorage.getItem("fortune")) return show(JSON.parse(localStorage.getItem("fortune")));
  shakeBtn.classList.add("shake");
  shakeSound.play();
  navigator.vibrate&&navigator.vibrate([200,100,200]);
  setTimeout(()=>{
    shakeBtn.classList.remove("shake");
    shakeSound.pause();
    showCards();
  },2000);
};

function showCards(){
  cards.innerHTML="";
  cards.classList.remove("hidden");
  for(let i=0;i<6;i++){
    const c=document.createElement("div");
    c.className="card";
    c.innerHTML=`<div class="card-inner">QU·∫∫</div>
                 <div class="card-inner card-back">M·ªû</div>`;
    c.onclick=()=>pick(c);
    cards.appendChild(c);
  }
}

function pick(card){
  const f=fortunes[Math.floor(Math.random()*fortunes.length)];
  localStorage.setItem("fortune",JSON.stringify(f));
  card.classList.add("flip");
  setTimeout(()=>show(f),600);
}

function show(f){
  f.good?good.play():bad.play();
  if(f.good) confetti({particleCount:120,spread:70});
  const o=document.createElement("div");
  o.className="overlay";
  o.innerHTML=`
  <div class="result">
    <h2>${f.good?"üåü QU·∫∫ MAY":"‚ö†Ô∏è QU·∫∫ XUI"}</h2>
    <p>${f.text}</p>
    <div class="reward">${rewardType}</div>
  </div>`;
  document.body.appendChild(o);
}
</script>

</body>
</html>
