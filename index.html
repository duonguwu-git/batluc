<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üîÆ Xin Qu·∫ª ƒê·ªãnh M·ªánh 10/5</title>

<style>
body{
  margin:0;
  font-family:system-ui;
  background:#2c0b0b;
  color:#3b1d00;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

.panel{
  background:#fff5e6;
  width:92%;
  max-width:420px;
  padding:20px;
  border-radius:18px;
  border:6px double #8b5a2b;
  box-shadow:0 0 30px rgba(0,0,0,.6);
  text-align:center;
}

.hidden{display:none}

button{
  background:#c0392b;
  color:#ffd700;
  border:none;
  padding:12px 20px;
  font-size:16px;
  border-radius:12px;
  margin-top:14px;
  cursor:pointer;
}

button:active{transform:scale(.95)}

.que-area{
  display:flex;
  justify-content:space-between;
  margin-top:20px;
}

.que{
  width:36px;
  height:140px;
  background:linear-gradient(#f5deb3,#e6c79c);
  border-radius:18px 18px 8px 8px;
  border:2px solid #8b5a2b;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:24px;
  cursor:pointer;
  animation:shake 1s infinite;
}

@keyframes shake{
  0%{transform:rotate(0deg)}
  25%{transform:rotate(2deg)}
  50%{transform:rotate(0deg)}
  75%{transform:rotate(-2deg)}
  100%{transform:rotate(0deg)}
}

.result{
  margin-top:20px;
  animation:zoom .5s ease;
}

@keyframes zoom{
  from{transform:scale(.5);opacity:0}
  to{transform:scale(1);opacity:1}
}

.big-que{
  margin:auto;
  width:80px;
  height:260px;
  background:linear-gradient(#f5deb3,#e6c79c);
  border-radius:30px;
  border:3px solid #8b5a2b;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:40px;
}

.dev{
  position:fixed;
  bottom:6px;
  left:8px;
  font-size:12px;
  color:#ffd700;
  opacity:.7;
}
</style>
</head>

<body>

<div class="panel">

<!-- STEP 1 -->
<div id="step1">
  <h2>üîÆ B·∫°n ƒë√£ s·∫µn s√†ng ch∆∞a?</h2>
  <button onclick="nextStep(1)">S·∫µn s√†ng</button>
</div>

<!-- STEP 2 -->
<div id="step2" class="hidden">
  <h2>‚ú® B·∫°n c√≥ tin ƒë·ªãnh m·ªánh kh√¥ng?</h2>
  <button onclick="nextStep(2)">T√¥i tin</button>
</div>

<!-- STEP 3 -->
<div id="step3" class="hidden">
  <h2>ü™µ X√≥c qu·∫ª</h2>
  <button onclick="shake()">X√≥c qu·∫ª</button>
</div>

<!-- STEP 4 -->
<div id="step4" class="hidden">
  <h3>Ch·ªçn 1 que qu·∫ª</h3>
  <div class="que-area" id="ques"></div>
</div>

<!-- RESULT -->
<div id="result" class="hidden"></div>

</div>

<div class="dev">dev by Hai Duong</div>

<script>
/* AUDIO */
const clickS = new Audio("https://cdn.pixabay.com/audio/2022/03/15/audio_9c8c9a.ogg");
const shakeS = new Audio("https://cdn.pixabay.com/audio/2022/10/03/audio_3b6b7b.ogg");
shakeS.loop=true;
const drawS = new Audio("https://cdn.pixabay.com/audio/2022/03/10/audio_7c1c0e.ogg");
const winS = new Audio("https://cdn.pixabay.com/audio/2022/10/16/audio_3c8c3b.ogg");
const sadS = new Audio("https://cdn.pixabay.com/audio/2022/08/04/audio_2f6d8d.ogg");

let resultSaved = localStorage.getItem("que105");
if(resultSaved){
  showResult(JSON.parse(resultSaved), true);
}

/* STEP */
function nextStep(n){
  clickS.play();
  document.getElementById("step"+n).classList.add("hidden");
  document.getElementById("step"+(n+1)).classList.remove("hidden");
}

/* SHAKE */
function shake(){
  clickS.play();
  shakeS.play();
  if(navigator.vibrate) navigator.vibrate([200,100,200,100,200]);

  setTimeout(()=>{
    shakeS.pause();
    document.getElementById("step3").classList.add("hidden");
    document.getElementById("step4").classList.remove("hidden");
    spawnQues();
  },2000);
}

/* CREATE 6 QUE */
function spawnQues(){
  const box=document.getElementById("ques");
  box.innerHTML="";
  for(let i=0;i<6;i++){
    const q=document.createElement("div");
    q.className="que";
    q.textContent="ü™µ";
    q.onclick=()=>pickQue();
    box.appendChild(q);
  }
}

/* PICK */
function pickQue(){
  if(localStorage.getItem("que105")) return;
  drawS.play();
  if(navigator.vibrate) navigator.vibrate(300);

  const isGood=Math.random()<0.5;
  const text=isGood
   ?"üåü ƒê·∫°i c√°t: V·∫≠n may ƒëang t·ªõi ‚Äì gh√© qu·∫ßy 10/5 mua n∆∞·ªõc k√≠ch l·ªôc!"
   :"üåßÔ∏è Ti·ªÉu h·∫°n: Tr√°nh s√¢n si ‚Äì gi·ªØ t√¢m s√°ng s·∫Ω qua";

  const data={good:isGood,text};
  localStorage.setItem("que105",JSON.stringify(data));
  showResult(data,false);
}

/* SHOW RESULT */
function showResult(data,fromLoad){
  document.querySelectorAll(".panel>div").forEach(d=>d.classList.add("hidden"));
  const r=document.getElementById("result");
  r.classList.remove("hidden");

  r.innerHTML=`
    <div class="big-que">ü™µ</div>
    <p>${data.text}</p>
    ${data.good?'<b>üéÅ C√≥ th·ªÉ c√≥ qu√† ‚Äì h√£y h·ªèi qu·∫ßy 10/5!</b>':""}
  `;

  if(!fromLoad){
    data.good?winS.play():sadS.play();
  }
}
</script>

</body>
</html
