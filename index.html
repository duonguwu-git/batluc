<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Xin Qu·∫ª ƒê·ªãnh M·ªánh 10/5</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
:root{
 --red:#c0392b;
 --gold:#ffd700;
 --paper:#fff5e6;
}
body{
 margin:0;
 min-height:100vh;
 display:flex;
 align-items:center;
 justify-content:center;
 background:radial-gradient(circle,#fff8ef,#e6c9a8);
 font-family:system-ui;
}
.panel{
 width:92vw;
 max-width:420px;
 background:var(--paper);
 border-radius:18px;
 padding:18px;
 border:8px double #4e342e;
 box-shadow:0 15px 40px rgba(0,0,0,.4);
 position:relative;
}
h1{text-align:center;color:var(--red);margin:6px}
.sub{text-align:center;font-size:.9rem;color:#6b4a39}

.tube{
 width:120px;height:170px;
 background:linear-gradient(#5d4037,#2e1b14);
 border-radius:16px;
 margin:20px auto;
}
.shaking{
 animation:shake .15s infinite;
}
@keyframes shake{
 0%{transform:rotate(0deg)}
 25%{transform:rotate(2deg)}
 50%{transform:rotate(0deg)}
 75%{transform:rotate(-2deg)}
 100%{transform:rotate(0deg)}
}

.cards{
 position:relative;
 height:160px;
 margin-top:10px;
}
.card{
 width:70px;height:110px;
 background:#fff;
 border-radius:8px;
 position:absolute;
 left:50%;
 top:30px;
 transform-origin:bottom center;
 display:flex;
 align-items:center;
 justify-content:center;
 font-weight:700;
 color:var(--red);
 box-shadow:0 8px 18px rgba(0,0,0,.35);
 cursor:pointer;
 transition:.4s;
}
.card:hover{transform:scale(1.05) translateX(-50%)}

.big-card{
 background:#fffdf6;
 border-radius:16px;
 padding:16px;
 margin-top:12px;
 box-shadow:0 10px 30px rgba(0,0,0,.35);
 animation:pop .5s;
}
@keyframes pop{
 from{transform:scale(.7);opacity:0}
 to{transform:scale(1);opacity:1}
}
.start-text{
 margin-top:10px;
 text-align:center;
 font-weight:900;
 color:var(--red);
 letter-spacing:1px;
}

.notice{
 margin-top:10px;
 background:linear-gradient(90deg,#fff3c4,#ffe08a);
 padding:10px;
 border-radius:12px;
 text-align:center;
 font-weight:800;
}

button{
 padding:10px 14px;
 border:none;
 border-radius:12px;
 font-weight:800;
 cursor:pointer;
}
.primary{background:var(--red);color:#fff}

.modal{
 position:fixed;inset:0;
 background:rgba(0,0,0,.65);
 display:flex;
 align-items:center;
 justify-content:center;
 z-index:10;
}
.modal-box{
 background:var(--paper);
 padding:20px;
 border-radius:16px;
 text-align:center;
 width:90%;
 max-width:360px;
}

.dev{
 position:fixed;
 left:8px;
 bottom:6px;
 font-size:11px;
 color:#5c4033;
 opacity:.7;
}
</style>
</head>
<body>

<div class="panel">
<h1>üîÆ XIN QU·∫∫ 2026</h1>
<div class="sub">H·ªôi tr·∫°i l·ªõp 10/5</div>

<div id="tube" class="tube"></div>

<div class="cards" id="cards"></div>

<div id="result"></div>
</div>

<div class="modal" id="m1">
 <div class="modal-box">
  <h3>B·∫°n ƒë√£ s·∫µn s√†ng ch∆∞a?</h3>
  <button class="primary" onclick="step2()">ƒê·ªíNG √ù</button>
 </div>
</div>

<div class="modal" id="m2" style="display:none">
 <div class="modal-box">
  <h3>T∆∞∆°ng lai 2026 c·ªßa b·∫°n s·∫Ω ra sao?</h3>
  <button class="primary" onclick="start()">B·∫ÆT ƒê·∫¶U</button>
 </div>
</div>

<div class="dev">dev by Hai Duong</div>

<script>
const STORE="QUE105_FINAL";
let ctx;

const good=[],bad=[];
for(let i=0;i<50;i++){
 good.push("V·∫≠n may ƒëang m·ªâm c∆∞·ªùi, gh√© qu·∫ßy 10/5 mua n∆∞·ªõc ƒë·ªÉ gi·ªØ l·ªôc nh√©!");
 bad.push("C·∫©n th·∫≠n th·ªã phi, b√¨nh tƒ©nh r·ªìi m·ªçi chuy·ªán s·∫Ω qua.");
}
const team=[
 "B·ªè qua s√¢n si, 10/5 s·∫Ω v√¥ ƒë·ªãch b√≥ng chuy·ªÅn",
 "ƒêo√†n k·∫øt ch√≠nh l√† s·ª©c m·∫°nh l·ªõn nh·∫•t c·ªßa 10/5",
 "C·ªë g·∫Øng √¢m th·∫ßm, chi·∫øn th·∫Øng s·∫Ω t·ª± ƒë·∫øn v·ªõi 10/5"
];

function audio(){
 if(!ctx) ctx=new (AudioContext||webkitAudioContext)();
}

function sfx(freq=.1,d=150){
 audio();
 let o=ctx.createOscillator(),g=ctx.createGain();
 o.frequency.value=freq;
 o.connect(g);g.connect(ctx.destination);
 g.gain.value=.25;
 o.start();
 o.stop(ctx.currentTime+d/1000);
}

function step2(){
 sfx(800);
 m1.style.display="none";
 m2.style.display="flex";
}

function start(){
 audio();ctx.resume();
 sfx(600);
 m2.style.display="none";
 if(localStorage.getItem(STORE)){
  showResult(JSON.parse(localStorage.getItem(STORE)));
  return;
 }
 shake();
}

function shake(){
 tube.classList.add("shaking");
 if(navigator.vibrate) navigator.vibrate([200,100,200,100,200]);
 setTimeout(()=>{
  tube.classList.remove("shaking");
  showCards();
 },1500);
}

function showCards(){
 cards.innerHTML="";
 for(let i=0;i<6;i++){
  let c=document.createElement("div");
  c.className="card";
  c.style.transform=`translateX(-50%) rotate(${(i-2.5)*15}deg)`;
  c.innerText="QU·∫∫";
  c.onclick=()=>pick();
  cards.appendChild(c);
 }
}

function pick(){
 cards.innerHTML="";
 let isGood=Math.random()<0.5;
 let text=isGood?
  good[Math.floor(Math.random()*good.length)]:
  bad[Math.floor(Math.random()*bad.length)];

 if(Math.random()<0.2)
  text+=" üèÜ "+team[Math.floor(Math.random()*team.length)];

 let gift=Math.random()<0.1;
 let data={text,gift,isGood};
 localStorage.setItem(STORE,JSON.stringify(data));
 showResult(data);
}

function showResult(d){
 let html=`<div class="big-card">
  <div>${d.text}</div>
  <div class="start-text">‚ú® B·∫ÆT ƒê·∫¶U ƒêI ‚ú®</div>
 </div>`;
 if(d.gift){
  html+=`<div class="notice">üéÅ Mang m√†n h√¨nh ƒë·∫øn qu·∫ßy 10/5 ƒë·ªÉ nh·∫≠n M√ìC KH√ìA!</div>`;
  confetti({particleCount:120,spread:80});
 }
 result.innerHTML=html;
}
</script>
</body>
</html>
